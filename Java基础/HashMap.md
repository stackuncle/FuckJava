
## 什么是对象池？
- 对象池（模式）是一种创建型设计模式。
- 它持有一个初始化好的对象的集合，将对象提供给调用者。

## 对象池优点
- 减少频繁创建和销毁对象带来的成本，实现对象的缓存和复用。
- 本质上，对象池属于空间换时间的折中，它通过缓存初始化好的对象来提升调用者请求对象的响应速度。

## 对象池的弊端
### 脏对象问题

所谓的脏对象就是指的是当对象被放回对象池后，还保留着刚刚被客户端调用时生成的数据。

脏对象可能带来两个问题：
- 脏对象持有上次使用的引用，导致内存泄漏等问题。
- 脏对象如果下一次使用时没有做清理，可能影响程序的处理数据。

### 生命周期的问题
- 处于对象池中的对象生命周期要比普通的对象要长久。维持大量的对象也是比较占用内存空间的。
  以ThreadPoolExecutor为例，它提供了allowCoreThreadTimeOut和setKeepAliveTime两种方法，可以在超时后销毁核心线程。我们在具体的实践中可以参考这个策略。
  
### 异常处理
- 相对来说，使用对象池client调用也会复杂一些，比如请求对象时有可能出现的阻塞，异常或者null值。
这些都需要我们做一些额外的处理，来确保程序的正常运行。


## 什么场景下使用？
Android中使用对象池的应用有很多,比如下面的这些都是应用了该模式
- Handler处理的Message
- 线程池执行器ThreadPoolExecutor
- 控件TabLayout
- 控制TypedArray的Resources

## 对象池大小
- 通常情况下，我们需要控制对象池的大小。
- 如果对象池没有限制，可能导致对象池持有过多的闲置对象，增加内存的占用。
- 如果对象池闲置过小，没有可用的对象时，会造成之前对象池无可用的对象时，再次请求出现的问题。
- 对象池的大小选取应该结合具体的使用场景，结合数据（触发池中无可用对象的频率）分析来确定。

